                        .module _123.c
                        .area text(rom, con, rel)
 0000                   .dbfile 123.c
 0000                   .dbfile C:\Users\Administrator\Desktop\塔城设故板\Software\123.c
 0000                   .dbfunc e usart0Init _usart0Init fV
                        .even
 0000           _usart0Init::
 0000                   .dbline -1
 0000                   .dbline 11
 0000           ; #include<iom128v.h>
 0000           ; #include<macros.h>
 0000           ; 
 0000           ; #define        FOSC      8000000
 0000           ; #define        BAUD0     19200
 0000           ; #define        BAUD1     19200
 0000           ; 
 0000           ; typedef        unsigned char uchar;
 0000           ; typedef        unsigned int  uint;
 0000           ; 
 0000           ; void usart0Init(void){
 0000                   .dbline 13
 0000           ; 
 0000           ;        UCSR0B = 0x00;                         //关闭UART00
 0000 2224              clr R2
 0002 2AB8              out 0xa,R2
 0004                   .dbline 14
 0004           ;        UCSR0A =0x00;                          //不使用倍速发送（异步）
 0004 2BB8              out 0xb,R2
 0006                   .dbline 15
 0006           ;        UCSR0C =(1<<UCSZ01)|(1<<UCSZ00);   //数据位为8位
 0006 86E0              ldi R24,6
 0008 80939500          sts 149,R24
 000C                   .dbline 16
 000C           ;        UBRR0L=(FOSC/16/(BAUD0+1))%256;    //异步正常情况下的计算公式
 000C 8AE1              ldi R24,26
 000E 89B9              out 0x9,R24
 0010                   .dbline 17
 0010           ;        UBRR0H=(FOSC/16/(BAUD0+1))/256;
 0010 20929000          sts 144,R2
 0014                   .dbline 18
 0014           ;        UCSR0B =(1<<RXEN0)|(1<<TXEN0);     //接收使能和发送使能
 0014 88E1              ldi R24,24
 0016 8AB9              out 0xa,R24
 0018                   .dbline -2
 0018           L1:
 0018                   .dbline 0 ; func end
 0018 0895              ret
 001A                   .dbend
 001A                   .dbfunc e usart1Init _usart1Init fV
                        .even
 001A           _usart1Init::
 001A                   .dbline -1
 001A                   .dbline 21
 001A           ; }
 001A           ; 
 001A           ; void usart1Init(void){
 001A                   .dbline 23
 001A           ; 
 001A           ;        UCSR1B = 0x00;                                         //关闭USART1
 001A 2224              clr R2
 001C 20929A00          sts 154,R2
 0020                   .dbline 24
 0020           ;        UCSR1A = 0x00;                                         //不适使用倍速发送
 0020 20929B00          sts 155,R2
 0024                   .dbline 25
 0024           ;        UCSR1C = (1<<UCSZ11)|(1<<UCSZ10);      //数据位为八位
 0024 86E0              ldi R24,6
 0026 80939D00          sts 157,R24
 002A                   .dbline 26
 002A           ;        UBRR1L=(FOSC/16/(BAUD1+1))%256;        //异步正常模式下，UBRR的计算公式
 002A 8AE1              ldi R24,26
 002C 80939900          sts 153,R24
 0030                   .dbline 27
 0030           ;        UBRR1H=(FOSC/16/(BAUD1+1))/256;
 0030 20929800          sts 152,R2
 0034                   .dbline 28
 0034           ;        UCSR1B =(1<<RXEN1)|(1<<TXEN1);         //接收使能，传送使能
 0034 88E1              ldi R24,24
 0036 80939A00          sts 154,R24
 003A                   .dbline -2
 003A           L2:
 003A                   .dbline 0 ; func end
 003A 0895              ret
 003C                   .dbend
 003C                   .dbfunc e putchar0 _putchar0 fV
 003C           ;              c -> R16
                        .even
 003C           _putchar0::
 003C                   .dbline -1
 003C                   .dbline 31
 003C           ; }
 003C           ; 
 003C           ; void putchar0(unsigned char c){  
 003C           L4:
 003C                   .dbline 33
 003C           ; 
 003C           ;      while (!(UCSR0A&(1<<UDRE0)));            //表明发送器已经准备就绪
 003C           L5:
 003C                   .dbline 33
 003C 5D9B              sbis 0xb,5
 003E FECF              rjmp L4
 0040           X0:
 0040                   .dbline 34
 0040           ;      UDR0=c;                                                  //将要发送的数据装入UDR0寄存器
 0040 0CB9              out 0xc,R16
 0042                   .dbline -2
 0042           L3:
 0042                   .dbline 0 ; func end
 0042 0895              ret
 0044                   .dbsym r c 16 c
 0044                   .dbend
 0044                   .dbfunc e putchar1 _putchar1 fV
 0044           ;              c -> R16
                        .even
 0044           _putchar1::
 0044                   .dbline -1
 0044                   .dbline 37
 0044           ; }
 0044           ; 
 0044           ; void putchar1(unsigned char c){  
 0044           L8:
 0044                   .dbline 39
 0044           ; 
 0044           ;      while (!(UCSR1A&(1<<UDRE1)));
 0044           L9:
 0044                   .dbline 39
 0044 20909B00          lds R2,155
 0048 25FE              sbrs R2,5
 004A FCCF              rjmp L8
 004C           X1:
 004C                   .dbline 40
 004C           ;        UDR1=c;    
 004C 00939C00          sts 156,R16
 0050                   .dbline -2
 0050           L7:
 0050                   .dbline 0 ; func end
 0050 0895              ret
 0052                   .dbsym r c 16 c
 0052                   .dbend
 0052                   .dbfunc e puts0 _puts0 fV
 0052           ;              s -> R20,R21
                        .even
 0052           _puts0::
 0052 4A93              st -y,R20
 0054 5A93              st -y,R21
 0056 A801              movw R20,R16
 0058                   .dbline -1
 0058                   .dbline 43
 0058           ; }
 0058           ; 
 0058           ; void puts0(char *s){
 0058 05C0              xjmp L13
 005A           L12:
 005A                   .dbline 45
 005A           ;        
 005A           ;        while (*s){
 005A                   .dbline 47
 005A           ;        
 005A           ;                putchar0(*s);
 005A FA01              movw R30,R20
 005C 0081              ldd R16,z+0
 005E EEDF              xcall _putchar0
 0060                   .dbline 48
 0060           ;                s++;
 0060 4F5F              subi R20,255  ; offset = 1
 0062 5F4F              sbci R21,255
 0064                   .dbline 49
 0064           ;      } 
 0064           L13:
 0064                   .dbline 45
 0064 FA01              movw R30,R20
 0066 2080              ldd R2,z+0
 0068 2220              tst R2
 006A B9F7              brne L12
 006C           X2:
 006C                   .dbline 50
 006C           ;     putchar0(0x0a);//回车换行
 006C 0AE0              ldi R16,10
 006E E6DF              xcall _putchar0
 0070                   .dbline 51
 0070           ;       putchar0(0x0d);
 0070 0DE0              ldi R16,13
 0072 E4DF              xcall _putchar0
 0074                   .dbline -2
 0074           L11:
 0074                   .dbline 0 ; func end
 0074 5991              ld R21,y+
 0076 4991              ld R20,y+
 0078 0895              ret
 007A                   .dbsym r s 20 pc
 007A                   .dbend
 007A                   .dbfunc e puts1 _puts1 fV
 007A           ;              s -> R20,R21
                        .even
 007A           _puts1::
 007A 4A93              st -y,R20
 007C 5A93              st -y,R21
 007E A801              movw R20,R16
 0080                   .dbline -1
 0080                   .dbline 54
 0080           ; }
 0080           ;  
 0080           ; void puts1(char *s){
 0080 05C0              xjmp L17
 0082           L16:
 0082                   .dbline 56
 0082           ; 
 0082           ;        while (*s){
 0082                   .dbline 58
 0082           ;        
 0082           ;                putchar1(*s);
 0082 FA01              movw R30,R20
 0084 0081              ldd R16,z+0
 0086 DEDF              xcall _putchar1
 0088                   .dbline 59
 0088           ;                s++;
 0088 4F5F              subi R20,255  ; offset = 1
 008A 5F4F              sbci R21,255
 008C                   .dbline 60
 008C           ;      } 
 008C           L17:
 008C                   .dbline 56
 008C FA01              movw R30,R20
 008E 2080              ldd R2,z+0
 0090 2220              tst R2
 0092 B9F7              brne L16
 0094           X3:
 0094                   .dbline 61
 0094           ;      putchar1(0x0a);//回车换行
 0094 0AE0              ldi R16,10
 0096 D6DF              xcall _putchar1
 0098                   .dbline 62
 0098           ;      putchar1(0x0d);
 0098 0DE0              ldi R16,13
 009A D4DF              xcall _putchar1
 009C                   .dbline -2
 009C           L15:
 009C                   .dbline 0 ; func end
 009C 5991              ld R21,y+
 009E 4991              ld R20,y+
 00A0 0895              ret
 00A2                   .dbsym r s 20 pc
 00A2                   .dbend
 00A2                   .dbfunc e main _main fV
                        .even
 00A2           _main::
 00A2                   .dbline -1
 00A2                   .dbline 66
 00A2           ; } 
 00A2           ; 
 00A2           ; void main(void)
 00A2           ; {
 00A2                   .dbline 68
 00A2           ;         
 00A2           ;         usart0Init();
 00A2 AEDF              xcall _usart0Init
 00A4                   .dbline 69
 00A4           ;         usart1Init();
 00A4 BADF              xcall _usart1Init
 00A6 06C0              xjmp L21
 00A8           L20:
 00A8                   .dbline 71
 00A8           ;         
 00A8           ;         while(1){
 00A8                   .dbline 73
 00A8           ;         
 00A8           ;               puts0("soahfoahsofiqwoifbhoiq");
 00A8 00E0              ldi R16,<L23
 00AA 10E0              ldi R17,>L23
 00AC D2DF              xcall _puts0
 00AE                   .dbline 74
 00AE           ;               puts1("SHAOIFHOSIAHFOIHAOIHOFS");
 00AE 00E0              ldi R16,<L24
 00B0 10E0              ldi R17,>L24
 00B2 E3DF              xcall _puts1
 00B4                   .dbline 75
 00B4           ;         }
 00B4           L21:
 00B4                   .dbline 71
 00B4 F9CF              xjmp L20
 00B6           X4:
 00B6                   .dbline -2
 00B6           L19:
 00B6                   .dbline 0 ; func end
 00B6 0895              ret
 00B8                   .dbend
                        .area data(ram, con, rel)
 0000                   .dbfile C:\Users\Administrator\Desktop\塔城设故板\Software\123.c
 0000           L24:
 0000                   .blkb 24
                        .area idata
 0000 5348414F4946484F53494148464F4948  .byte 'S,'H,'A,'O,'I,'F,'H,'O,'S,'I,'A,'H,'F,'O,'I,'H
 0010 414F49484F465300  .byte 'A,'O,'I,'H,'O,'F,'S,0
                        .area data(ram, con, rel)
 0018                   .dbfile C:\Users\Administrator\Desktop\塔城设故板\Software\123.c
 0018           L23:
 0018                   .blkb 23
                        .area idata
 0018 736F6168666F6168736F666971776F69  .byte 's,'o,'a,'h,'f,'o,'a,'h,'s,'o,'f,'i,'q,'w,'o,'i
 0028 6662686F697100    .byte 'f,'b,'h,'o,'i,'q,0
                        .area data(ram, con, rel)
 002F                   .dbfile C:\Users\Administrator\Desktop\塔城设故板\Software\123.c
 002F           ; }
